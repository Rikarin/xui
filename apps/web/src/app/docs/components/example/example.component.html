<xui-card>
  <xui-tab-group>
    <xui-tab title="Preview">
      <div class="content">
        <ng-content></ng-content>
      </div>
    </xui-tab>

    @for (file of content$ | async; track file.name) {
      <xui-tab [title]="file.name">
        <pre><code lineNumbers="true" [language]="getFileType(file)" [highlight]="file.content"></code></pre>
      </xui-tab>
    }
  </xui-tab-group>

  <div *ngIf="files || todo" class="menu">
    <div *ngIf="todo" class="todo">TODO</div>
    <ng-container *ngIf="files">
      <xui-icon (click)="openProject()" xuiTooltip="Edit in StackBlitz">open-in-new</xui-icon>
    </ng-container>
  </div>
</xui-card>
