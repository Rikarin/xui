<div [ngClass]="styles" [tabindex]="disabled ? -1 : 0" (click)="open()" cdkOverlayOrigin #trigger="cdkOverlayOrigin">
  {{ !viewValue ? placeholder ?? '&nbsp;' : viewValue }}
  <xui-icon>{{ isOpen ? 'chevron-up' : 'chevron-down' }}</xui-icon>
</div>

<ng-template
  cdkConnectedOverlay
  cdkConnectedOverlayHasBackdrop
  [cdkConnectedOverlayBackdropClass]="'cdk-overlay-transparent'"
  [cdkConnectedOverlayOrigin]="trigger"
  [cdkConnectedOverlayOpen]="isOpen"
  [cdkConnectedOverlayWidth]="width"
  (backdropClick)="isOpen = false"
>
  <div class="x-select-options">
    @for (item of items; track item.value) {
      <xui-option [value]="item.value">{{ item.label | translate }}</xui-option>
    }
    <ng-content select="xui-option"></ng-content>
  </div>
</ng-template>
